
{% if site.life_cycle == "pre-alpha" %}

<div class="panel panel-default life-cycle">
  <div id="life-cycle" class="panel-body pre-alpha">
    This lesson is still being designed and assembled (Pre-Alpha version)
  </div>
</div>


{% elsif site.life_cycle == "alpha" %}

<div class="panel panel-default life-cycle">
  <div id="life-cycle" class="panel-body alpha">
    This lesson is in the early stages of development (Alpha version)
  </div>
</div>


{% elsif site.life_cycle == "beta" %}

<div class="panel panel-default life-cycle">
  <div id="life-cycle" class="panel-body beta">
    This lesson is being piloted (Beta version)
  </div>
</div>

{% elsif site.life_cycle == "stable" %}

{% comment %}
We do not do anything special for lessons in stable
{% endcomment %}


{% comment %}
Below we cover the 3 phases of lesson transition towards the Carpentries Workbench:
- transition-step-1 (`transition_url` variable needed): we indicate that there
is a new version of the lesson that is available for testing, and that it will be deprecated in the future.
- transition-step-2 (`transition_url` and `transition_date` variables needed): we indicate that a new version of the lesson is avaiable with a deprecation date.
- transition-step-3 (`transition_url` variable needed): the lesson is fully deprecated, and a redirect is set up to the new URL
{% endcomment %}

{% elsif site.life_cycle == "transition-step-1" %}
{% include check_transition_variables.html need_transition_date = 'true' %}

<div class="alert alert-warning life-cycle">
  A snapshot of this lesson from {{ site.transition_date_prebeta }} is being tested on The Carpentries Workbench:
  <a href="{{ site.transition_url }}">{{ site.transition_url }}</a>.
  <br>
  <b>The Workbench version of this lesson will become default on {{ site.transition_date_prerelease }}</b>.
  <button type="button" style="border: true; position: absolute; top: 10px; right: 27px; color: #383838;" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true" style='font-size:34pt'>&times;</span>
  </button>
</div>

{% elsif site.life_cycle == "transition-step-2" %}
{% include check_transition_variables.html need_transition_date = 'true' %}

<div class="alert alert-danger alert-dismissible life-cycle" role="alert">
  This lesson is a <b>snapshot from {{ site.transition_date_beta }}</b>.
  A newer version is being tested on The Carpentries Workbench:
  <a href="{{ site.transition_url }}">{{ site.transition_url }}</a>.
  <br>
  The Workbench version of this lesson will become default on <b>{{ site.transition_date_prerelease }}</b>.
  <button type="button" style="border: true; position: absolute; top: 10px; right: 27px; color: #383838;" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true" style='font-size:34pt'>&times;</span>
  </button>
</div>

{% endif %}



{% comment %}
For Carpentries Lab lessons we add a banner about the review status
{% endcomment %}

{% if site.carpentry == "lab" %}
{% if site.doi contains "zenodo" %}{% assign listing=" on Zenodo" %}
{% elsif site.doi contains "jose" %}{% assign listing=" in JOSE" %}
{% else %}{% assign listing="none" %}
{% endif %}

<div class="panel panel-default life-cycle">
  <div id="life-cycle" class="panel-body published">
    This lesson has passed peer-review! {% if site.doi != "" %}<a href="{{ site.doi }}">See the publication{{ listing }}.</a>{% endif %}
  </div>
</div>
{% endif %}
